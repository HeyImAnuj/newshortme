const ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}};ue();const L={},he=(e,t)=>e===t,pe=Symbol("solid-track"),M={equals:he};let ge=ie;const j={},U=1,q=2,se={owned:null,cleanups:null,context:null,owner:null};var x=null;let B=null,p=null,R=null,y=null,E=null,V=0;function D(e,t){const s=p,n=x,r=e.length===0?se:{owned:null,cleanups:null,context:null,owner:t||n};x=r,p=null;try{return W(()=>e(()=>X(r)),!0)}finally{p=s,x=n}}function S(e,t){t=t?Object.assign({},M,t):M;const s={value:e,observers:null,observerSlots:null,pending:j,comparator:t.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.pending!==j?s.pending:s.value)),Q(s,r));return[re.bind(s),n]}function N(e,t,s){const n=le(e,t,!1,U);H(n)}function ne(e,t,s){s=s?Object.assign({},M,s):M;const n=le(e,t,!0,0);return n.pending=j,n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,H(n),re.bind(n)}function be(e){if(R)return e();let t;const s=R=[];try{t=e()}finally{R=null}return W(()=>{for(let n=0;n<s.length;n+=1){const r=s[n];if(r.pending!==j){const l=r.pending;r.pending=j,Q(r,l)}}},!1),t}function Y(e){let t,s=p;return p=null,t=e(),p=s,t}function me(e){return x===null||(x.cleanups===null?x.cleanups=[e]:x.cleanups.push(e)),e}function re(){const e=B;if(this.sources&&(this.state||e)){const t=y;y=null,this.state===U||e?H(this):F(this),y=t}if(p){const t=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(t)):(p.sources=[this],p.sourceSlots=[t]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function Q(e,t,s){if(R)return e.pending===j&&R.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let n=!1;return e.value=t,e.observers&&e.observers.length&&W(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r];n&&B.disposed.has(l),(n&&!l.tState||!n&&!l.state)&&(l.pure?y.push(l):E.push(l),l.observers&&ae(l)),n||(l.state=U)}if(y.length>1e6)throw y=[],new Error},!1),t}function H(e){if(!e.fn)return;X(e);const t=x,s=p,n=V;p=x=e,xe(e,e.value,n),p=s,x=t}function xe(e,t,s){let n;try{n=e.fn(t)}catch(r){ce(r)}(!e.updatedAt||e.updatedAt<=s)&&(e.observers&&e.observers.length?Q(e,n):e.value=n,e.updatedAt=s)}function le(e,t,s,n,r){const l={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:x,context:null,pure:s};return x===null||x!==se&&(x.owned?x.owned.push(l):x.owned=[l]),l}function oe(e){const t=B;if(e.state===0||t)return;if(e.state===q||t)return F(e);if(e.suspense&&Y(e.suspense.inFallback))return e.suspense.effects.push(e);const s=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<V);)(e.state||t)&&s.push(e);for(let n=s.length-1;n>=0;n--)if(e=s[n],e.state===U||t)H(e);else if(e.state===q||t){const r=y;y=null,F(e,s[0]),y=r}}function W(e,t){if(y)return e();let s=!1;t||(y=[]),E?s=!0:E=[],V++;try{const n=e();return ye(s),n}catch(n){ce(n)}finally{y=null,s||(E=null)}}function ye(e){y&&(ie(y),y=null),!e&&(E.length?be(()=>{ge(E),E=null}):E=null)}function ie(e){for(let t=0;t<e.length;t++)oe(e[t])}function F(e,t){const s=B;e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];r.sources&&(r.state===U||s?r!==t&&oe(r):(r.state===q||s)&&F(r,t))}}function ae(e){const t=B;for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s];(!n.state||t)&&(n.state=q,n.pure?y.push(n):E.push(n),n.observers&&ae(n))}}function X(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),r=s.observers;if(r&&r.length){const l=r.pop(),i=s.observerSlots.pop();n<r.length&&(l.sourceSlots[i]=n,r[n]=l,s.observerSlots[n]=i)}}if(e.owned){for(t=0;t<e.owned.length;t++)X(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function ce(e){throw e}const $e=Symbol("fallback");function Z(e){for(let t=0;t<e.length;t++)e[t]()}function we(e,t,s={}){let n=[],r=[],l=[],i=0,o=t.length>1?[]:null;return me(()=>Z(l)),()=>{let d=e()||[],c,a;return d[pe],Y(()=>{let f=d.length,b,g,v,C,_,u,$,w,I;if(f===0)i!==0&&(Z(l),l=[],n=[],r=[],i=0,o&&(o=[])),s.fallback&&(n=[$e],r[0]=D(fe=>(l[0]=fe,s.fallback())),i=1);else if(i===0){for(r=new Array(f),a=0;a<f;a++)n[a]=d[a],r[a]=D(h);i=f}else{for(v=new Array(f),C=new Array(f),o&&(_=new Array(f)),u=0,$=Math.min(i,f);u<$&&n[u]===d[u];u++);for($=i-1,w=f-1;$>=u&&w>=u&&n[$]===d[w];$--,w--)v[w]=r[$],C[w]=l[$],o&&(_[w]=o[$]);for(b=new Map,g=new Array(w+1),a=w;a>=u;a--)I=d[a],c=b.get(I),g[a]=c===void 0?-1:c,b.set(I,a);for(c=u;c<=$;c++)I=n[c],a=b.get(I),a!==void 0&&a!==-1?(v[a]=r[c],C[a]=l[c],o&&(_[a]=o[c]),a=g[a],b.set(I,a)):l[c]();for(a=u;a<f;a++)a in v?(r[a]=v[a],l[a]=C[a],o&&(o[a]=_[a],o[a](a))):r[a]=D(h);r=r.slice(0,i=f),n=d.slice(0)}return r});function h(f){if(l[a]=f,o){const[b,g]=S(a);return o[a]=g,t(d[a],b)}return t(d[a])}}}function k(e,t){return Y(()=>e(t||{}))}function de(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ne(we(()=>e.each,e.children,t||void 0))}function T(e,t){return ne(e,void 0,t?void 0:{equals:t})}function ve(e,t,s){let n=s.length,r=t.length,l=n,i=0,o=0,d=t[r-1].nextSibling,c=null;for(;i<r||o<l;){if(t[i]===s[o]){i++,o++;continue}for(;t[r-1]===s[l-1];)r--,l--;if(r===i){const a=l<n?o?s[o-1].nextSibling:s[l-o]:d;for(;o<l;)e.insertBefore(s[o++],a)}else if(l===o)for(;i<r;)(!c||!c.has(t[i]))&&t[i].remove(),i++;else if(t[i]===s[l-1]&&s[o]===t[r-1]){const a=t[--r].nextSibling;e.insertBefore(s[o++],t[i++].nextSibling),e.insertBefore(s[--l],a),t[r]=s[l]}else{if(!c){c=new Map;let h=o;for(;h<l;)c.set(s[h],h++)}const a=c.get(t[i]);if(a!=null)if(o<a&&a<l){let h=i,f=1,b;for(;++h<r&&h<l&&!((b=c.get(t[h]))==null||b!==a+f);)f++;if(f>a-o){const g=t[i];for(;o<a;)e.insertBefore(s[o++],g)}else e.replaceChild(s[o++],t[i++])}else i++;else t[i++].remove()}}}const ee="_$DX_DELEGATE";function _e(e,t,s){let n;return D(r=>{n=r,t===document?e():m(t,e(),t.firstChild?null:void 0,s)}),()=>{n(),t.textContent=""}}function A(e,t,s){const n=document.createElement("template");n.innerHTML=e;let r=n.content.firstChild;return s&&(r=r.firstChild),r}function K(e,t=window.document){const s=t[ee]||(t[ee]=new Set);for(let n=0,r=e.length;n<r;n++){const l=e[n];s.has(l)||(s.add(l),t.addEventListener(l,Ae))}}function z(e,t,s){s==null?e.removeAttribute(t):e.setAttribute(t,s)}function Se(e,t,s,n){n?Array.isArray(s)?(e[`$$${t}`]=s[0],e[`$$${t}Data`]=s[1]):e[`$$${t}`]=s:Array.isArray(s)?e.addEventListener(t,r=>s[0](s[1],r)):e.addEventListener(t,s)}function m(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return G(e,t,n,s);N(r=>G(e,t(),r,s),n)}function Ae(e){const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}}),L.registry&&!L.done&&(L.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>n.remove()));s!==null;){const n=s[t];if(n&&!s.disabled){const r=s[`${t}Data`];if(r!==void 0?n(r,e):n(e),e.cancelBubble)return}s=s.host&&s.host!==s&&s.host instanceof Node?s.host:s.parentNode}}function G(e,t,s,n,r){for(L.context&&!s&&(s=[...e.childNodes]);typeof s=="function";)s=s();if(t===s)return s;const l=typeof t,i=n!==void 0;if(e=i&&s[0]&&s[0].parentNode||e,l==="string"||l==="number"){if(L.context)return s;if(l==="number"&&(t=t.toString()),i){let o=s[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),s=O(e,s,n,o)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||l==="boolean"){if(L.context)return s;s=O(e,s,n)}else{if(l==="function")return N(()=>{let o=t();for(;typeof o=="function";)o=o();s=G(e,o,s,n)}),()=>s;if(Array.isArray(t)){const o=[];if(J(o,t,r))return N(()=>s=G(e,o,s,n,!0)),()=>s;if(L.context){for(let d=0;d<o.length;d++)if(o[d].parentNode)return s=o}if(o.length===0){if(s=O(e,s,n),i)return s}else Array.isArray(s)?s.length===0?te(e,o,n):ve(e,s,o):(s&&O(e),te(e,o));s=o}else if(t instanceof Node){if(L.context&&t.parentNode)return s=i?[t]:t;if(Array.isArray(s)){if(i)return s=O(e,s,n,t);O(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function J(e,t,s){let n=!1;for(let r=0,l=t.length;r<l;r++){let i=t[r],o;if(i instanceof Node)e.push(i);else if(!(i==null||i===!0||i===!1))if(Array.isArray(i))n=J(e,i)||n;else if((o=typeof i)=="string")e.push(document.createTextNode(i));else if(o==="function")if(s){for(;typeof i=="function";)i=i();n=J(e,Array.isArray(i)?i:[i])||n}else e.push(i),n=!0;else e.push(document.createTextNode(i.toString()))}return n}function te(e,t,s){for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],s)}function O(e,t,s,n){if(s===void 0)return e.textContent="";const r=n||document.createTextNode("");if(t.length){let l=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(r!==o){const d=o.parentNode===e;!l&&!i?d?e.replaceChild(r,o):e.insertBefore(r,s):d&&o.remove()}else l=!0}}else e.insertBefore(r,s);return[r]}const Ce=A('<nav class="flex w-full px-6 h-16 items-center justify-between bg-darker-800 border-b-2 font-press-start"><h1 class="text-lg text-orange font-bold"></h1><ul class="flex text-pink text-xs items-center justify-center"></ul></nav>'),ke=A('<li class="mx-4 px-5 py-2 border border-dashed rounded-lg cursor-pointer hover:bg-red hover:text-darker">Logout</li>'),Ee=A('<li class="mx-4 px-5 py-2 border border-dashed rounded-lg cursor-pointer hover:bg-yellow hover:text-darker">Login</li>'),Le=A('<li class="px-5 py-2 border border-dashed rounded-lg cursor-pointer hover:bg-green hover:text-darker">Register</li>'),Ne=({logged:e,setPage:t,onLogout:s,page:n})=>{const[r,l]=S("");return N(()=>{n()=="info"?l("Info Dashboard"):n()=="admin"?l("Admin Panel"):l("Short.Me")}),(()=>{const i=Ce.cloneNode(!0),o=i.firstChild,d=o.nextSibling;return m(o,r),m(d,(()=>{const c=T(()=>!!e(),!0);return()=>c()&&(()=>{const a=ke.cloneNode(!0);return Se(a,"click",s,!0),a})()})(),null),m(d,(()=>{const c=T(()=>!e(),!0);return()=>c()&&[(()=>{const a=Ee.cloneNode(!0);return a.$$click=()=>t("login"),a})(),(()=>{const a=Le.cloneNode(!0);return a.$$click=()=>t("register"),a})()]})(),null),i})()};K(["click"]);var Te="/assets/url-shortener.82f6107a.svg";const Ie=A('<div class="flex justify-center items-center flex-col flex-grow font-press-start"><img class="h-72"><div class="text-center my-12"><p class="text-darker-300 my-4 font-bold">One stop destination for shortening your URLs<span></span></p><p class="text-xs font-thin text-green underline"> Login / Register to Get Started </p></div></div>'),Oe=()=>(()=>{const e=Ie.cloneNode(!0),t=e.firstChild;return z(t,"src",Te),e})(),P={}.API_BASE_URL||"http://localhost:5000";var Pe="/assets/login.acf45f18.svg";const je=A('<div class="flex flex-grow justify-center items-center font-press-start"><div class="z-10"><div class="mb-3"><label for="email" class="text-xs text-cyan">Email</label><input type="email" autocomplete="off" name="email" placeholder="example@short.me" class="block text-yellow bg-darker-800 px-6 py-2 border border-dashed rounded focus:text-yellow"></div><div class="mb-6"><label for="password" class="text-xs text-cyan">Password</label><input type="password" autocomplete="off" name="password" placeholder="******" class="block text-yellow bg-darker-800 px-6 py-2 border border-dashed rounded focus:text-yellow"></div><div class="flex justify-center"><button class="px-6 py-2 border border-dashed rounded hover:bg-yellow hover:text-darker">Login</button></div></div><div class="absolute z-0 opacity-10"><img class="w-100"></div></div>'),Re=({setLogged:e,setPage:t,setIsAdmin:s})=>{const[n,r]=S(""),[l,i]=S(""),o=async()=>{const c=await(await fetch(`${P}/login`,{method:"POST",body:JSON.stringify({email:n(),password:l()}),headers:{"Content-type":"application/json; charset=UTF-8"}})).json();c.token!=null&&(await localStorage.setItem("token",c.token),e(!0),t("info"),n()==="admin@short.me"&&(await localStorage.setItem("isAdmin","true"),s(!0),t("admin")))};return(()=>{const d=je.cloneNode(!0),c=d.firstChild,a=c.firstChild,h=a.firstChild,f=h.nextSibling,b=a.nextSibling,g=b.firstChild,v=g.nextSibling,C=b.nextSibling,_=C.firstChild,u=c.nextSibling,$=u.firstChild;return f.addEventListener("change",w=>r(w.target.value)),v.addEventListener("change",w=>i(w.target.value)),_.$$click=o,z($,"src",Pe),d})()};K(["click"]);var Ue="/assets/register.2415f26a.svg";const Be=A('<div class="flex flex-grow justify-center items-center font-press-start"><div class="z-10"><div class="mb-3"><label for="email" class="text-xs text-cyan">Email</label><input type="email" name="email" autocomplete="off" placeholder="example@short.me" class="block text-green bg-darker-800 px-6 py-2 border border-dashed rounded focus:text-green"></div><div class="mb-6"><label for="password" class="text-xs text-cyan">Password</label><input type="password" name="password" autocomplete="off" placeholder="******" class="block text-green bg-darker-800 px-6 py-2 border border-dashed rounded focus:text-green"></div><div class="flex justify-center"><button class="px-6 py-2 border border-dashed rounded hover:bg-green hover:text-darker">Register</button></div></div><div class="absolute z-0 opacity-10"><img class="w-100"></div></div>'),De=({setPage:e})=>{const[t,s]=S(""),[n,r]=S(""),l=async()=>{await(await fetch(`${P}/register`,{method:"POST",body:JSON.stringify({email:t(),password:n()}),headers:{"Content-type":"application/json; charset=UTF-8"}})).status===201&&e("home")};return(()=>{const i=Be.cloneNode(!0),o=i.firstChild,d=o.firstChild,c=d.firstChild,a=c.nextSibling,h=d.nextSibling,f=h.firstChild,b=f.nextSibling,g=h.nextSibling,v=g.firstChild,C=o.nextSibling,_=C.firstChild;return a.addEventListener("change",u=>s(u.target.value)),b.addEventListener("change",u=>r(u.target.value)),v.$$click=l,z(_,"src",Ue),i})()};K(["click"]);const Me=A('<div class="flex flex-grow flex-col items-center p-4"><div class="flex w-4/5 max-w-4xl mt-12"><input type="text" name="url" autocomplete="off" placeholder="Your lengthy URL here." class="block w-full text-cyan bg-darker-800 px-6 py-2 border border-dashed rounded focus:text-cyan mr-4 font-poppins"><button class="px-6 py-2 border border-dashed rounded hover:bg-cyan hover:text-darker font-press-start font-bold text-xs">SHORT</button></div><table class="w-4/5 max-w-4xl border border-dashed mt-12"><thead class="border-b border-dashed"><tr class="font-press-start text-sm font-bold"><th class="border-r border-dashed py-2"> YOUR URL</th><th class="border-r border-dashed py-2">SHORT.ME URL</th><th class="py-2">CLICKED</th></tr></thead><tbody class="font-poppins text-center"></tbody></table></div>'),qe=A('<tr class="border-b border-dashed"><td class="border-r border-dashed py-2 text-orange"></td><td class="border-r border-dashed py-2 text-green"><a target="blank">short.me/</a></td><td class="text-purple-200"></td></tr>'),Fe=()=>{const[e,t]=S(""),[s,n]=S([]),r=async()=>{const o=await localStorage.getItem("token"),c=await(await fetch(`${P}/info`,{method:"GET",headers:{Authorization:`Bearer ${o}`}})).json();n(c)},l=async()=>{const o=await localStorage.getItem("token");await fetch(`${P}/shorten`,{method:"POST",body:JSON.stringify({uri:e()}),headers:{Authorization:`Bearer ${o}`,"Content-type":"application/json; charset=UTF-8"}}),r()},i=()=>{setTimeout(()=>{r()},1e3)};return N(()=>{r()}),(()=>{const o=Me.cloneNode(!0),d=o.firstChild,c=d.firstChild,a=c.nextSibling,h=d.nextSibling,f=h.firstChild,b=f.nextSibling;return c.addEventListener("change",g=>t(g.target.value)),a.$$click=l,m(b,k(de,{get each(){return s()},children:g=>(()=>{const v=qe.cloneNode(!0),C=v.firstChild,_=C.nextSibling,u=_.firstChild;u.firstChild;const $=_.nextSibling;return m(C,()=>g.value),_.$$click=i,m(u,()=>g.link,null),m($,()=>g.clicked),N(()=>z(u,"href",`${P}/${g.link}`)),v})()})),o})()};K(["click"]);const Ge=A('<div class="flex flex-grow flex-col items-center p-4"><table class="w-4/5 max-w-4xl border border-dashed mt-12"><thead class="border-b border-dashed"><tr class="font-press-start text-sm font-bold"><th class="border-r border-dashed py-2"> S.No</th><th class="border-r border-dashed py-2">USER</th></tr></thead><tbody class="font-poppins text-center"></tbody></table></div>'),He=A('<tr class="border-b border-dashed"><td class="border-r border-dashed py-2 text-orange">.</td><td class="py-2 text-green"></td></tr>'),Ke=()=>{const[e,t]=S([]),s=async()=>{const n=await localStorage.getItem("token"),l=await(await fetch(`${P}/admin`,{method:"GET",headers:{Authorization:`Bearer ${n}`}})).json();t(l.slice(1))};return N(()=>{s()}),(()=>{const n=Ge.cloneNode(!0),r=n.firstChild,l=r.firstChild,i=l.nextSibling;return m(i,k(de,{get each(){return e()},children:(o,d)=>(()=>{const c=He.cloneNode(!0),a=c.firstChild,h=a.firstChild,f=a.nextSibling;return m(a,()=>d()+1,h),m(f,o),c})()})),n})()},ze=A('<div class="w-full min-h-screen bg-darker-800 text-white flex flex-col"></div>'),Je=()=>{const[e,t]=S(!1),[s,n]=S(!1),[r,l]=S("home"),i=async()=>{let d=await localStorage.getItem("token"),c=await localStorage.getItem("isAdmin");d!=null&&(t(!0),c=="true"&&n(!0)),e()&&l("info"),s()&&l("admin")};N(()=>{i()});const o=async()=>{await localStorage.removeItem("token"),await localStorage.removeItem("isAdmin"),t(!1),n(!1),l("home")};return(()=>{const d=ze.cloneNode(!0);return m(d,k(Ne,{logged:e,setPage:l,onLogout:o,page:r}),null),m(d,(()=>{const c=T(()=>r()==="home",!0);return()=>c()&&k(Oe,{})})(),null),m(d,(()=>{const c=T(()=>r()==="login",!0);return()=>c()&&k(Re,{setLogged:t,setIsAdmin:n,setPage:l})})(),null),m(d,(()=>{const c=T(()=>r()==="register",!0);return()=>c()&&k(De,{setPage:l})})(),null),m(d,(()=>{const c=T(()=>r()==="info",!0);return()=>c()&&k(Fe,{})})(),null),m(d,(()=>{const c=T(()=>r()==="admin",!0);return()=>c()&&k(Ke,{})})(),null),d})()};_e(()=>k(Je,{}),document.getElementById("root"));
